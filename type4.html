<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Building Material Inventory Management System</title> 
  <link rel="stylesheet" href="./style.css"> 
</head> 
<body> 
  
   
  <div class="formdiv"> 
  <h3 >Building Material Inventory</h3> 
  <form> 
   
    <label for="materialName">Material Name:</label> 
    <input  type="text" id="materialName" placeholder="Enter material name" > 
    <label for="category">Material Category:</label> 
    <select id="category"> 
      <option value="Wood">Wood</option>  
      <option value="Cement">Cement</option> 
      <option value="Steel">Steel</option> 
      <option value="Bricks">Bricks</option> 
      <option value="Glass">Glass</option> 
    </select> 
    <label for="quantity">Quantity</label> 
    <input id="quantity" type="number" placeholder="Enter quantity"> 
    <label for="supplierName">Supplier Name:</label> 
    <input id="supplierName" placeholder="Enter supplier name" type="text"> 
    <label for="costPerUnit">Cost Per Unit(RS):</label> 
    <input id="costPerUnit" type="number" placeholder="Enter cost per unit"> 
    <button type="button" id="addMaterialBtn">Submit Material</button> 
    <span id="error-message"></span>  
  </form> 
 
</div> 
 
<section> 
  <table id="materialTable"> 
    <caption>Material List:</caption> 
    <thead id="headerRow"> 
       
       <tr> 
        <th>Material Name</th> 
        <th>Category</th> 
        <th>Quantity</th> 
        <th>Supplier</th> 
        <th>Cost Per Unit (RS)</th> 
 
       </tr> 
    </thead> 
    <tbody> 
 
    </tbody> 
     
 
  </table> 
 
</section> 
 
  <div class="summary"> 
    <h3>Inventory Summary:</h3> 
    <h3>Total Products: <span id="totalProducts">0</span></h3> 
    <h3>Most Expensive Product: <span id="mostExpensive">None</span></h3> 
 
  </div> 
 
 
  <script src="./script.js"></script> 
</body> 
</html> 
 
 
form{ 
    display: flex; 
    width:60%; 
    
    justify-content: center; 
    flex-direction: column; 
} 
 
.formdiv{ 
    display: flex; 
   align-items: center; 
    justify-content: center; 
    flex-direction: column; 
 
} 
 
input{ 
    margin-bottom: 1%; 
} 
 
select{ 
    margin-bottom: 1%; 
} 
 
#addMaterialBtn{ 
    background-color: rgb(76,175,80); 
    padding: 1%; 
    color:rgb(255,255,255); 
    font-size: large; 
    font-weight: bold; 
 
} 
 
thead{ 
    background-color: rgb(76,175,80); 
} 
 
.summary{ 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    flex-direction: column; 
    
} 
 
#error-message{ 
    opacity:0; 
    color:red; 
    text-align: center; 
    font-weight: bold; 
} 
 
.headerTxt{ 
    text-align: center; 
} 
#materialTable{ 
    margin-top: 2%; 
    margin-left: 20%; 
    width:60% 
 
} 
 
#headerRow{ 
    background-color: rgb(76,175,80); 
    color:rgb(255,255,255); 
 
} 
 
#headerRow th{ 
    text-align: center; 
   
    padding: 1%; 
} 
 
caption{ 
    font-weight: bold; 
    font-size: large; 
 
} 
 
.trow{ 
    text-align: center; 
} 
 
label{ 
    font-weight: bold; 
    font-size: large;} 
 
document.getElementById("addMaterialBtn").addEventListener("click",()=>{ 
 
    const name=document.getElementById("materialName").value.trim(); 
    const qty=document.getElementById("quantity").value.trim(); 
    const sn=document.getElementById("supplierName").value.trim(); 
    const cpi=document.getElementById("costPerUnit").value.trim(); 
    const errMsg=document.getElementById("error-message"); 
    const cat=document.getElementById("category"); 
    const catVal=cat.options[cat.selectedIndex].text; 
 
 
    if(!name || !catVal || !sn || !cpi || !qty){ 
        errMsg.textContent="Please fill out all fields!"; 
        errMsg.style.opacity=1; 
        return; 
    } 
 
    else{ 
        errMsg.style.opacity=0; 
        const table=document.getElementById("materialTable"); 
        const tbody=document.querySelector("#materialTable tbody"); 
        const trow=document.createElement("tr"); 
        const tp=document.getElementById("totalProducts"); 
        const eItem=document.getElementById("mostExpensive"); 
        let arr=[name,catVal,qty,sn,cpi]; 
 
        for(let i=0;i<5;i++){ 
            let tdata=document.createElement("td"); 
            if(i==4){ 
                let c=parseFloat(arr[i]).toFixed(2); 
                tdata.textContent=`RS ${c}`; 
            } 
            else{ 
                tdata.textContent=arr[i]; 
            } 
            
            trow.appendChild(tdata); 
        } 
 
        trow.classList.add("trow"); 
        tbody.appendChild(trow); 
 
        let n=table.rows.length-1; 
        tp.textContent=n; 
        const data=getTableData(tbody); 
        eItem.textContent=`${data.name} (R S ${data.cost})`; 
        document.getElementsByTagName("form")[0].reset(); 
    } 
   
 
 
}) 
 
 
const getTableData=(tbody)=>{ 
    let mc=0; 
    let ei=""; 
    for(let row of tbody.rows){ 
        const name=row.cells[0].textContent.trim(); 
        const txt=row.cells[4].textContent.trim(); 
        const cost=parseFloat(txt.replace(/[^\d.]/g,"")).toFixed(2); 
        if(cost>mc){ 
            mc=cost; 
            ei=name; 
        } 
     
    } 
     
    return {name:ei,cost:mc} 
}